<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>GIPHY API</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style type="text/css">
    button,
    div,
    form,
    input {
      margin: 10px;
    }
  </style>
</head>

<body>
  <div class="container">
    <div id="foods-view"></div>

    <form id="food-form">
      <label for="food-input">Find a Food Type Here </label>
      <input type="text" id="food-input"></input>

      <br>

      <input id="add-food" type="submit" value="Find a Food Type Here">
    </form>
  </div>

  <div id="gifs">
    <img id="myGiphy">
  </div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script>

    var foods = ["italian", "french", "japanese"];

    function displayFoodGif() {

      var food = $(this).attr("data-name");
      $.ajax({
        url: "http://api.giphy.com/v1/gifs/search",
        method: "GET",
        data: {
          api_key: "2b131N2NP9njCpTeK1iRUECGenRpiMZa",
          q: "food"
        }
      }).then(function (response) {
        $("#foods-view").text(JSON.stringify(response));
      });
    }

    // Function for displaying food data
    function renderButtons() {

      // Deleting the foods buttons prior to adding new food buttons
      $("#foods-view").empty();

      // Looping through the array of foods
      for (var i = 0; i < foods.length; i++) {

        // adding button with class/attr/text. then appending
        var a = $("<button>");

        a.addClass("food");
        a.attr("data-name", foods[i]);
        a.text(foods[i]);
        $("#foods-view").append(a);
      

            // this might be right?
        $("#data-name").on("click", function(response) {
        $("#myGiphy").attr("src", response.data[1].images["downsized_medium"].url);
      });
      
      
      
      };
    };

    $("#add-food").on("click", function (event) {
      // event.preventDefault() prevents the form from trying to submit itself.
      // We're using a form so that the user can hit enter instead of clicking the button if they want
      event.preventDefault();



      var food = $("#food-input").val().trim();

      foods.push(food);

      // calling renderButtons which handles the processing of our movie array
      renderButtons();
    });




    // Calling the renderButtons function at least once to display the initial list of movies
    renderButtons();


  </script>

</body>

</html>